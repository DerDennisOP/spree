<% if @collection.any? %>
  <div class="table-responsive" id="listing_gift_cards">
    <table class="table">
      <thead class="text-muted">
        <tr>
          <th><%= Spree.t(:code) %></th>
          <th><%= Spree.t(:amount) %></th>
          <th><%= Spree.t(:minimum_order_amount) %></th>
          <th><%= Spree.t(:used) %></th>
          <th><%= Spree.t(:status) %></th>
          <th><%= Spree.t(:expires_at) %></th>

          <% if params[:user_id].blank? %>
            <th><%= Spree.t(:issued_to) %></th>
            <th></th>
          <% end %>
        </tr>
      </thead>
      <tbody>
        <%= render collection: @collection, partial: 'spree/admin/gift_cards/gift_card' %>
      </tbody>
    </table>
  </div>
<% else %>
  <div class="text-muted p-5 d-flex align-items-center w-100 justify-content-center">
    <%= Spree.t(:no_resource_found, resource: plural_resource_name(Spree::GiftCard)) %>
    <%= link_to_with_icon 'plus', Spree.t(:add_one),
      params[:user_id].present? ? spree.new_admin_user_gift_card_path(params[:user_id]) : new_object_url,
      class: 'btn btn-link ml-3',
      data: { 'turbo-frame': '_top' } if can?(:create, Spree::GiftCard) %>
  </div>
<% end %>

<%= render partial: 'spree/admin/shared/index_table_options', locals: { collection: @collection } %>